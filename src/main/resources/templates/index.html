<!DOCTYPE html>
<html>

<head>
  <title>Iniciar sesi√≥n con Google</title>
  <script src="https://apis.google.com/js/api.js"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #00c6ff, #0072ff);
      height: 100vh;
      margin: 0;
      color: white;
    }

    .container {
      max-width: 400px;
      margin: 0 auto;
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    h1 {
      font-size: 36px;
      margin-top: 0;
    }

    #customBtn {
      display: inline-block;
      background-color: #4285f4;
      color: white;
      width: 240px;
      border-radius: 5px;
      white-space: nowrap;
      box-shadow: 1px 1px 1px rgba(0, 0, 0, .25);
      transition: all .218s ease-in-out;
    }

    #customBtn:hover {
      cursor: pointer;
      background-color: #357ae8;
    }

    #customBtn span {
      display: inline-block;
      vertical-align: middle;
      padding-left: 42px;
      padding-right: 42px;
      font-size: 14px;
      font-weight: bold;
    }

    img {
      max-width: 80%;
      border-radius: 50%;
      box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.4);
    }

    .customer-section {
      display: none;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Conecta2</h1>
    <div id="g_id_onload" data-client_id="803161019115-76bud0r5fo79se8cg0oi1ho7lnqhn79b.apps.googleusercontent.com"
      data-callback="handleCredentialResponse">
      <img th:src="@{/assets/images/logo_png_innova.png}"/>
    </div>
    <br>
    <center><div class="g_id_signin" data-type="standard"></div></center>
  </div>
</body>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics.js";
  import { getAuth } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
  import { GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  const googleButton = document.querySelector("googlelogin")

  googleButton.addEventListener("click", async (e) => {
  e.preventDefault();

  const provider = new GoogleAuthProvider();

  try {
    const credentials = await signInWithPopup(auth, provider)
    console.log(credentials);
    console.log("google sign in");
    
    // Close the login modal
    const modalInstance = bootstrap.Modal.getInstance(googleButton.closest('.modal'));
    modalInstance.hide();

    // show welcome message
    showMessage("Welcome " + credentials.user.displayName);
  } catch (error) {
    console.log(error);
  }
});

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDX8Uc4Po4-rPKrzxh2JWkXxd16O7I1Eik",
    authDomain: "conectadosp-6c872.firebaseapp.com",
    projectId: "conectadosp-6c872",
    storageBucket: "conectadosp-6c872.appspot.com",
    messagingSenderId: "803161019115",
    appId: "1:803161019115:web:cff53e5d1c2c5a285e24ae",
    measurementId: "G-7VG5NV4KJK"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>

</html>